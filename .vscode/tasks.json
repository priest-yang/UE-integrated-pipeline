{
    "tasks": [
        {
            "label": "build FAM",
            "type": "shell",
            "command": "g++",
            "args": [
                "-g", // Ensure you include debugging information
                "-std=c++17",
                "fam/*.cpp",
                "-o",
                "${workspaceFolder}/build/fam",  
                "-I${workspaceFolder}/include", 
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        }, 
        {
            "label": "build feature generator",
            "type": "shell",
            "command": "g++",
            "args": [
                "-g", // Ensure you include debugging information
                "-std=c++17",
                "feature_generator/*.cpp",
                "-o",
                "${workspaceFolder}/build/feature_generator", 
                "-I${workspaceFolder}/include", 
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        }, 



        {
            "label": "LibTorch Build",
            "type": "shell",
            "command": "cmake",
            "args": [
              "-DCMAKE_PREFIX_PATH=tra_pred_model/libtorch",
              "-DCMAKE_RUNTIME_OUTPUT_DIRECTORY=${workspaceFolder}/build/", 
              "-DTorch_DIR=${workspaceFolder}/tra_pred_model/libtorch/share/cmake/Torch", // Set the Torch_DIR to the directory containing TorchConfig.cmake
              "-S", 
              "${workspaceFolder}/tra_pred_model",  // Source directory where CMakeLists.txt is located
              "-B",
              "${workspaceFolder}/build"
            ],
            "group": {
              "kind": "build",
              "isDefault": true
            },
            "problemMatcher": ["$gcc"],
            "detail": "Generated task for building the project."
          },
          {
            "label": "Build Trajectory Prediction Model",
            "type": "shell",
            "command": "cmake",
            "args": [
              "--build",
              "${workspaceFolder}/build",  // Build directory
              "--config",
              "Release",
              "-j8"
            ],
            "group": {
              "kind": "build",
              "isDefault": false
            },
            "problemMatcher": ["$gcc"],
            "dependsOn": "LibTorch Build"
          }
      

        
    ],
    "version": "2.0.0"
}